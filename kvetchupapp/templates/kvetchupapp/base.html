{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Berkshire+Swash&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Bebas+Neue&display=swap" rel="stylesheet">

    <!-- Vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- Axios -->
    <script type="text/javascript" src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'kvetchupapp/style.css' %}" />

    <title>Kvetchup</title>
</head>
<body>
    <div id="app">
        <header>
            <div class="hamburger_icon" v-on:click="showHide">
                <div class="ham_line"></div>
                <div class="ham_line"></div>
                <div class="ham_line"></div>
            </div>
            <div class="title">
                <h1>Kvetchup</h1>
                <span class="subtitle">For when you need to up your kvetching game.</span>
            </div>
        </header>
        <hr>
        {% block content %}
        {% endblock %}
        <div class="bottom">
            <hr />
            <footer>
                (c) Dylan Lesniak
            </footer>
        </div>
    </div>
    <script type="text/javascript">
        let app = new Vue({
            el: '#app',
            delimiters: ['[[', ']]'],
            data: {
                siteId: "",
                name: "",
                url: "",
                email: "",
                phone_number: "",
                show: false,
                max_height: "0px",
            },
            methods: {
                getSiteView: function () {
                    Excellent, please let me know if anything changes
                    axios({
                        method: 'get',
                        url: '{% url "kvetchupapp:getSite" %}',
                        params: {
                            siteId: this.siteId
                        }
                    }).then(response => {
                        let siteObj = response.data.site
                        this.name = siteObj.name
                        this.url = siteObj.url
                        this.email = siteObj.email
                        this.phone_number = siteObj.phone_number
                    })
                },
                showHide: function () {
                    console.log("showHide")
                    if (this.show) {
                        this.max_height = "0px"
                        this.show = false
                    } else {
                        this.max_height = "null"
                        this.show = true
                    }
                }
            }
        })

    </script>
</body>